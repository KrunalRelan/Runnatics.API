// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Runnatics.Data.EF;

#nullable disable

namespace Runnatics.Data.EF.Migrations
{
    [DbContext(typeof(RaceSyncDbContext))]
    partial class RaceSyncDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.8")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Runnatics.Models.Data.Entities.CertificateField", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Alignment")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("left")
                        .HasColumnName("Alignment");

                    b.Property<string>("Content")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)")
                        .HasColumnName("Content");

                    b.Property<string>("FieldType")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("FieldType");

                    b.Property<string>("Font")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasDefaultValue("Arial")
                        .HasColumnName("Font");

                    b.Property<string>("FontColor")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(7)
                        .HasColumnType("nvarchar(7)")
                        .HasDefaultValue("000000")
                        .HasColumnName("FontColor");

                    b.Property<int>("FontSize")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(12)
                        .HasColumnName("FontSize");

                    b.Property<string>("FontStyle")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("normal")
                        .HasColumnName("FontStyle");

                    b.Property<string>("FontWeight")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("normal")
                        .HasColumnName("FontWeight");

                    b.Property<int?>("Height")
                        .HasColumnType("int")
                        .HasColumnName("Height");

                    b.Property<int>("TemplateId")
                        .HasColumnType("int")
                        .HasColumnName("TemplateId");

                    b.Property<int?>("Width")
                        .HasColumnType("int")
                        .HasColumnName("Width");

                    b.Property<int>("XCoordinate")
                        .HasColumnType("int")
                        .HasColumnName("XCoordinate");

                    b.Property<int>("YCoordinate")
                        .HasColumnType("int")
                        .HasColumnName("YCoordinate");

                    b.HasKey("Id");

                    b.HasIndex("TemplateId");

                    b.ToTable("CertificateFields", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.CertificateTemplate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("BackgroundImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("BackgroundImageUrl");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)")
                        .HasColumnName("Description");

                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<int>("Height")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1240)
                        .HasColumnName("Height");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("IsActive");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("Name");

                    b.Property<int?>("RaceId")
                        .HasColumnType("int")
                        .HasColumnName("RaceId");

                    b.Property<int>("Width")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1754)
                        .HasColumnName("Width");

                    b.HasKey("Id");

                    b.HasIndex("EventId");

                    b.HasIndex("RaceId");

                    b.HasIndex("EventId", "RaceId");

                    b.ToTable("CertificateTemplates", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Checkpoint", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("DeviceId")
                        .HasColumnType("int");

                    b.Property<decimal>("DistanceFromStart")
                        .HasColumnType("decimal(6,3)");

                    b.Property<int>("EventId")
                        .HasColumnType("int");

                    b.Property<bool>("IsMandatory")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int?>("ParentDeviceId")
                        .HasColumnType("int");

                    b.Property<int>("RaceId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("DeviceId");

                    b.HasIndex("EventId")
                        .HasDatabaseName("IX_Checkpoints_EventId");

                    b.HasIndex("ParentDeviceId");

                    b.HasIndex("EventId", "DistanceFromStart")
                        .HasDatabaseName("IX_Checkpoints_EventId_DistanceKm");

                    b.ToTable("Checkpoints", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Chip", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int?>("BatteryLevel")
                        .HasColumnType("int")
                        .HasColumnName("BatteryLevel");

                    b.Property<string>("EPC")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("EPC");

                    b.Property<DateTime?>("LastSeenAt")
                        .HasColumnType("datetime2")
                        .HasColumnName("LastSeenAt");

                    b.Property<string>("Notes")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("Notes");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Available")
                        .HasColumnName("Status");

                    b.Property<int>("TenantId")
                        .HasColumnType("int")
                        .HasColumnName("TenantId");

                    b.HasKey("Id");

                    b.HasIndex("EPC")
                        .IsUnique()
                        .HasDatabaseName("IX_Chips_EPC");

                    b.HasIndex("TenantId", "Status")
                        .HasDatabaseName("IX_Chips_TenantId_Status");

                    b.ToTable("Chips", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ChipAssignment", b =>
                {
                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<int>("ParticipantId")
                        .HasColumnType("int")
                        .HasColumnName("ParticipantId");

                    b.Property<int>("ChipId")
                        .HasColumnType("int")
                        .HasColumnName("ChipId");

                    b.Property<DateTime>("AssignedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasColumnName("AssignedAt")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<int?>("AssignedByUserId")
                        .HasColumnType("int")
                        .HasColumnName("AssignedByUserId");

                    b.Property<DateTime?>("UnassignedAt")
                        .HasColumnType("datetime2")
                        .HasColumnName("UnassignedAt");

                    b.HasKey("EventId", "ParticipantId", "ChipId");

                    b.HasIndex("AssignedAt")
                        .HasDatabaseName("IX_ChipAssignments_AssignedAt");

                    b.HasIndex("AssignedByUserId");

                    b.HasIndex("ChipId")
                        .HasDatabaseName("IX_ChipAssignments_ChipId");

                    b.HasIndex("EventId")
                        .HasDatabaseName("IX_ChipAssignments_EventId");

                    b.HasIndex("ParticipantId")
                        .HasDatabaseName("IX_ChipAssignments_ParticipantId");

                    b.ToTable("ChipAssignments", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Device", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("TenantId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.ToTable("Devices", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Event", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("City")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Country")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("Description");

                    b.Property<DateTime>("EventDate")
                        .HasColumnType("datetime2")
                        .HasColumnName("EventDate");

                    b.Property<int>("EventOrganizerId")
                        .HasColumnType("int")
                        .HasColumnName("EventOrganizerId");

                    b.Property<string>("EventType")
                        .HasMaxLength(250)
                        .HasColumnType("nvarchar(250)")
                        .HasColumnName("EventType");

                    b.Property<int?>("MaxParticipants")
                        .HasColumnType("int")
                        .HasColumnName("MaxParticipants");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("Name");

                    b.Property<DateTime?>("RegistrationDeadline")
                        .HasColumnType("datetime2")
                        .HasColumnName("RegistrationDeadline");

                    b.Property<string>("Settings")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("Settings");

                    b.Property<string>("Slug")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("Slug");

                    b.Property<string>("State")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)")
                        .HasDefaultValue("Draft")
                        .HasColumnName("Status");

                    b.Property<int>("TenantId")
                        .HasColumnType("int")
                        .HasColumnName("TenantId");

                    b.Property<string>("TimeZone")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasDefaultValue("Asia/Kolkata")
                        .HasColumnName("TimeZone");

                    b.Property<string>("VenueAddress")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("VenueAddress");

                    b.Property<decimal?>("VenueLatitude")
                        .HasColumnType("decimal(10,8)")
                        .HasColumnName("VenueLatitude");

                    b.Property<decimal?>("VenueLongitude")
                        .HasColumnType("decimal(11,8)")
                        .HasColumnName("VenueLongitude");

                    b.Property<string>("VenueName")
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("VenueName");

                    b.Property<string>("ZipCode")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("EventDate");

                    b.HasIndex("EventOrganizerId");

                    b.HasIndex("TenantId", "Slug")
                        .IsUnique();

                    b.HasIndex("TenantId", "Status");

                    b.ToTable("Events", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.EventSettings", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("AllowNameCheck")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("AllowNameCheck");

                    b.Property<bool>("AllowParticipantEdit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("AllowParticipantEdit");

                    b.Property<bool>("ConfirmedEvent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("ConfirmedEvent");

                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<bool>("Published")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("Published");

                    b.Property<bool>("RankOnNet")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("RankOnNet");

                    b.Property<bool>("RemoveBanner")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("RemoveBanner");

                    b.Property<bool>("ShowResultSummaryForRaces")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("ShowResultSummaryForRaces");

                    b.Property<bool>("UseOldData")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("UseOldData");

                    b.HasKey("Id");

                    b.HasIndex("EventId")
                        .IsUnique()
                        .HasDatabaseName("IX_EventSettings_EventId");

                    b.ToTable("EventSettings", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ImportBatch", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("ErrorLog")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("ErrorLog");

                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<string>("FileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("FileName");

                    b.Property<DateTime?>("ProcessedAt")
                        .HasColumnType("datetime2")
                        .HasColumnName("CompletedAt");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending")
                        .HasColumnName("Status");

                    b.Property<int>("TenantId")
                        .HasColumnType("int")
                        .HasColumnName("TenantId");

                    b.Property<int>("TotalRecords")
                        .HasColumnType("int")
                        .HasColumnName("TotalRows");

                    b.HasKey("Id");

                    b.HasIndex("EventId")
                        .HasDatabaseName("IX_ImportBatches_EventId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_ImportBatches_Status");

                    b.HasIndex("TenantId")
                        .HasDatabaseName("IX_ImportBatches_TenantId");

                    b.ToTable("ImportBatches", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.LeaderboardSettings", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool?>("AllowAnonymousView")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("AllowAnonymousView");

                    b.Property<int?>("AutoRefreshIntervalSec")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(30)
                        .HasColumnName("AutoRefreshIntervalSec");

                    b.Property<bool?>("EnableLiveLeaderboard")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("EnableLiveLeaderboard");

                    b.Property<int?>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<int?>("MaxDisplayedRecords")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(100)
                        .HasColumnName("MaxDisplayedRecords");

                    b.Property<int?>("NumberOfResultsToShowCategory")
                        .HasColumnType("int")
                        .HasColumnName("NumberOfResultsToShowCategory");

                    b.Property<int?>("NumberOfResultsToShowOverall")
                        .HasColumnType("int")
                        .HasColumnName("NumberOfResultsToShowOverall");

                    b.Property<bool?>("OverrideSettings")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("OverrideSettings");

                    b.Property<int?>("RaceId")
                        .HasColumnType("int")
                        .HasColumnName("RaceId");

                    b.Property<bool?>("ShowAgeGroupResults")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowAgeGroupResults");

                    b.Property<bool?>("ShowCategoryResults")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowCategoryResults");

                    b.Property<bool?>("ShowGenderResults")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowGenderResults");

                    b.Property<bool?>("ShowMedalIcon")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowMedalIcon");

                    b.Property<bool?>("ShowOverallResults")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowOverallResults");

                    b.Property<bool?>("ShowPace")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowPace");

                    b.Property<bool?>("ShowSplitTimes")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("ShowSplitTimes");

                    b.Property<bool?>("ShowTeamResults")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("ShowTeamResults");

                    b.Property<bool?>("SortByCategoryChipTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("SortByCategoryChipTime");

                    b.Property<bool?>("SortByCategoryGunTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("SortByCategoryGunTime");

                    b.Property<bool?>("SortByOverallChipTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("SortByOverallChipTime");

                    b.Property<bool?>("SortByOverallGunTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("SortByOverallGunTime");

                    b.HasKey("Id");

                    b.HasIndex("EventId")
                        .IsUnique()
                        .HasFilter("[EventId] IS NOT NULL");

                    b.HasIndex("RaceId")
                        .IsUnique()
                        .HasFilter("[RaceId] IS NOT NULL");

                    b.ToTable("LeaderboardSettings", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Notification", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime?>("DeliveredAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("EventId")
                        .HasColumnType("int");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ParticipantId")
                        .HasColumnType("int");

                    b.Property<int?>("ParticipantId1")
                        .HasColumnType("int");

                    b.Property<string>("Recipient")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<int>("RetryCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("SentAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending");

                    b.Property<string>("Subject")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("Id");

                    b.HasIndex("EventId");

                    b.HasIndex("ParticipantId");

                    b.HasIndex("ParticipantId1");

                    b.HasIndex("SentAt");

                    b.HasIndex("Status");

                    b.HasIndex("Type");

                    b.ToTable("Notifications", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Organization", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Domain")
                        .IsRequired()
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("Domain");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("OrganizationName");

                    b.HasKey("Id");

                    b.HasIndex("Domain")
                        .IsUnique();

                    b.ToTable("Organizations", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Participant", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("AgeCategory")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("AgeCategory");

                    b.Property<string>("BibNumber")
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)")
                        .HasColumnName("Bib");

                    b.Property<string>("City")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("City");

                    b.Property<string>("Country")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("Country");

                    b.Property<DateTime?>("DateOfBirth")
                        .HasColumnType("date")
                        .HasColumnName("DateOfBirth");

                    b.Property<string>("Email")
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("Email");

                    b.Property<string>("EmergencyContactName")
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("EmergencyContact");

                    b.Property<string>("EmergencyContactPhone")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("EmergencyPhone");

                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<string>("FirstName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("FirstName");

                    b.Property<string>("Gender")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("Gender");

                    b.Property<int?>("ImportBatchId")
                        .HasColumnType("int")
                        .HasColumnName("ImportBatchId");

                    b.Property<string>("LastName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("LastName");

                    b.Property<string>("Phone")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("Phone");

                    b.Property<int>("RaceId")
                        .HasColumnType("int")
                        .HasColumnName("RaceId");

                    b.Property<DateTime?>("RegistrationDate")
                        .HasColumnType("datetime2(7)")
                        .HasColumnName("StartTime");

                    b.Property<string>("State")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("State");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)")
                        .HasColumnName("RegistrationStatus");

                    b.Property<string>("TShirtSize")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("TShirtSize");

                    b.Property<int>("TenantId")
                        .HasColumnType("int")
                        .HasColumnName("TenantId");

                    b.HasKey("Id");

                    b.HasIndex("ImportBatchId");

                    b.HasIndex("RaceId")
                        .HasDatabaseName("IX_Participants_RaceId");

                    b.HasIndex("EventId", "BibNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_Participants_EventId_BibNumber")
                        .HasFilter("[Bib] IS NOT NULL");

                    b.HasIndex("TenantId", "Email")
                        .HasDatabaseName("IX_Participants_TenantId_Email");

                    b.ToTable("Participants", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ParticipantStaging", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("AgeCategory")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("AgeCategory");

                    b.Property<string>("Bib")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("Bib");

                    b.Property<string>("Email")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("Email");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("ErrorMessage");

                    b.Property<string>("FirstName")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("FirstName");

                    b.Property<string>("Gender")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("Gender");

                    b.Property<int>("ImportBatchId")
                        .HasColumnType("int")
                        .HasColumnName("ImportBatchId");

                    b.Property<string>("Mobile")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("Mobile");

                    b.Property<int?>("ParticipantId")
                        .HasColumnType("int")
                        .HasColumnName("ParticipantId");

                    b.Property<string>("ProcessingStatus")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending")
                        .HasColumnName("ProcessingStatus");

                    b.Property<int>("RowNumber")
                        .HasColumnType("int")
                        .HasColumnName("RowNumber");

                    b.HasKey("Id");

                    b.HasIndex("ImportBatchId")
                        .HasDatabaseName("IX_ParticipantStaging_ImportBatchId");

                    b.HasIndex("ParticipantId");

                    b.HasIndex("ProcessingStatus")
                        .HasDatabaseName("IX_ParticipantStaging_ProcessingStatus");

                    b.ToTable("ParticipantStaging", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.PasswordResetToken", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("datetime2")
                        .HasColumnName("ExpiresAt");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IpAddress");

                    b.Property<bool>("IsUsed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("IsUsed");

                    b.Property<string>("TokenHash")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("TokenHash");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("UserAgent");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserId");

                    b.HasKey("Id");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("IX_PasswordResetTokens_ExpiresAt");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_PasswordResetTokens_UserId");

                    b.ToTable("PasswordResetTokens", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Race", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("Description");

                    b.Property<decimal?>("Distance")
                        .HasColumnType("decimal(10,2)")
                        .HasColumnName("Distance");

                    b.Property<DateTime?>("EndTime")
                        .HasColumnType("datetime2(7)")
                        .HasColumnName("EndTime");

                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<int?>("MaxParticipants")
                        .HasColumnType("int")
                        .HasColumnName("MaxParticipants");

                    b.Property<DateTime?>("StartTime")
                        .HasColumnType("datetime2(7)")
                        .HasColumnName("StartTime");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("Title");

                    b.HasKey("Id");

                    b.HasIndex("EventId")
                        .HasDatabaseName("IX_Races_EventId");

                    b.ToTable("Races", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.RaceSettings", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("CheckValidation")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("CheckValidation");

                    b.Property<string>("DataHeaders")
                        .HasColumnType("nvarchar(max)")
                        .HasColumnName("DataHeader");

                    b.Property<int?>("DedUpSeconds")
                        .HasColumnType("int")
                        .HasColumnName("DedUpSeconds");

                    b.Property<int?>("EarlyStartCutOff")
                        .HasColumnType("int")
                        .HasColumnName("EarlyStartCutOff");

                    b.Property<bool?>("HasLoops")
                        .HasColumnType("bit")
                        .HasColumnName("HasLoops");

                    b.Property<bool>("IsTimed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("IsTimed");

                    b.Property<int?>("LateStartCutOff")
                        .HasColumnType("int")
                        .HasColumnName("LateStartCutOff");

                    b.Property<decimal?>("LoopLength")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("LoopLength");

                    b.Property<bool>("PublishDnf")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("PublishDNF");

                    b.Property<bool>("Published")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("Published");

                    b.Property<int>("RaceId")
                        .HasColumnType("int")
                        .HasColumnName("RaceId");

                    b.Property<bool>("SendSms")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("SendSms");

                    b.Property<bool>("ShowLeaderboard")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("ShowLeaderboard");

                    b.Property<bool>("ShowResultTable")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("ShowResultTable");

                    b.HasKey("Id");

                    b.HasIndex("RaceId")
                        .IsUnique();

                    b.ToTable("RaceSettings", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReadNormalized", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("CheckpointId")
                        .HasColumnType("int");

                    b.Property<DateTime>("ChipTime")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedByUserId")
                        .HasColumnType("int");

                    b.Property<int>("EventId")
                        .HasColumnType("int");

                    b.Property<int?>("EventId1")
                        .HasColumnType("int");

                    b.Property<long?>("GunTime")
                        .HasColumnType("bigint");

                    b.Property<bool>("IsManualEntry")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("ManualEntryReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<long?>("NetTime")
                        .HasColumnType("bigint");

                    b.Property<int>("ParticipantId")
                        .HasColumnType("int");

                    b.Property<int?>("ParticipantId1")
                        .HasColumnType("int");

                    b.Property<long?>("RawReadId")
                        .HasColumnType("bigint");

                    b.Property<long?>("ReadRawId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("CheckpointId");

                    b.HasIndex("ChipTime");

                    b.HasIndex("CreatedByUserId");

                    b.HasIndex("EventId");

                    b.HasIndex("EventId1");

                    b.HasIndex("GunTime");

                    b.HasIndex("ParticipantId");

                    b.HasIndex("ParticipantId1");

                    b.HasIndex("RawReadId");

                    b.HasIndex("ReadRawId");

                    b.ToTable("ReadNormalized", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReadRaw", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("Id"));

                    b.Property<int?>("AntennaPort")
                        .HasColumnType("int");

                    b.Property<string>("ChipEPC")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<int>("EventId")
                        .HasColumnType("int");

                    b.Property<bool>("IsProcessed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int>("ReaderDeviceId")
                        .HasColumnType("int");

                    b.Property<int?>("Rssi")
                        .HasColumnType("int");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("IsProcessed")
                        .HasDatabaseName("IX_ReadRaws_IsProcessed")
                        .HasFilter("[IsProcessed] = 0");

                    b.HasIndex("ReaderDeviceId");

                    b.HasIndex("ChipEPC", "Timestamp")
                        .HasDatabaseName("IX_ReadRaws_ChipEPC_Timestamp");

                    b.HasIndex("EventId", "Timestamp")
                        .HasDatabaseName("IX_ReadRaws_EventId_Timestamp");

                    b.ToTable("ReadRaws", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReaderAssignment", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("AssignedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<int?>("AssignedByUserId")
                        .HasColumnType("int");

                    b.Property<int>("CheckpointId")
                        .HasColumnType("int");

                    b.Property<int>("EventId")
                        .HasColumnType("int");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int>("ReaderDeviceId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UnassignedAt")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("AssignedAt");

                    b.HasIndex("AssignedByUserId");

                    b.HasIndex("CheckpointId");

                    b.HasIndex("EventId");

                    b.HasIndex("ReaderDeviceId");

                    b.ToTable("ReaderAssignments", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReaderDevice", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("AntennaCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(4);

                    b.Property<string>("FirmwareVersion")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)");

                    b.Property<DateTime?>("LastHeartbeat")
                        .HasColumnType("datetime2");

                    b.Property<string>("MacAddress")
                        .HasMaxLength(17)
                        .HasColumnType("nvarchar(17)");

                    b.Property<string>("Model")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Notes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("PowerLevel")
                        .HasColumnType("int");

                    b.Property<string>("SerialNumber")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Offline");

                    b.Property<int>("TenantId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("MacAddress");

                    b.HasIndex("SerialNumber")
                        .IsUnique();

                    b.HasIndex("TenantId");

                    b.ToTable("ReaderDevices", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Results", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int?>("CategoryRank")
                        .HasColumnType("int")
                        .HasColumnName("CategoryRank");

                    b.Property<bool>("CertificateGenerated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("CertificateGenerated");

                    b.Property<string>("DisqualificationReason")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("DisqualificationReason");

                    b.Property<int>("EventId")
                        .HasColumnType("int")
                        .HasColumnName("EventId");

                    b.Property<long?>("FinishTime")
                        .HasColumnType("bigint")
                        .HasColumnName("FinishTime");

                    b.Property<int?>("GenderRank")
                        .HasColumnType("int")
                        .HasColumnName("GenderRank");

                    b.Property<long?>("GunTime")
                        .HasColumnType("bigint")
                        .HasColumnName("GunTime");

                    b.Property<bool>("IsOfficial")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false)
                        .HasColumnName("IsOfficial");

                    b.Property<long?>("NetTime")
                        .HasColumnType("bigint")
                        .HasColumnName("NetTime");

                    b.Property<int?>("OverallRank")
                        .HasColumnType("int")
                        .HasColumnName("OverallRank");

                    b.Property<int>("ParticipantId")
                        .HasColumnType("int")
                        .HasColumnName("ParticipantId");

                    b.Property<int>("RaceId")
                        .HasColumnType("int")
                        .HasColumnName("RaceId");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Finished")
                        .HasColumnName("Status");

                    b.HasKey("Id");

                    b.HasIndex("ParticipantId")
                        .IsUnique()
                        .HasDatabaseName("IX_Results_ParticipantId");

                    b.HasIndex("RaceId");

                    b.HasIndex("EventId", "CategoryRank")
                        .HasDatabaseName("IX_Results_EventId_CategoryRank");

                    b.HasIndex("EventId", "GenderRank")
                        .HasDatabaseName("IX_Results_EventId_GenderRank");

                    b.HasIndex("EventId", "OverallRank")
                        .HasDatabaseName("IX_Results_EventId_OverallRank");

                    b.ToTable("Results", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.SplitTime", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int?>("CategoryRank")
                        .HasColumnType("int");

                    b.Property<int>("CheckpointId")
                        .HasColumnType("int");

                    b.Property<int>("EventId")
                        .HasColumnType("int");

                    b.Property<int?>("EventId1")
                        .HasColumnType("int");

                    b.Property<int?>("GenderRank")
                        .HasColumnType("int");

                    b.Property<decimal?>("Pace")
                        .HasColumnType("decimal(10,3)");

                    b.Property<int>("ParticipantId")
                        .HasColumnType("int");

                    b.Property<int?>("ParticipantId1")
                        .HasColumnType("int");

                    b.Property<int?>("Rank")
                        .HasColumnType("int");

                    b.Property<int?>("ReadNormalizedId")
                        .HasColumnType("int");

                    b.Property<long?>("SegmentTime")
                        .HasColumnType("bigint");

                    b.Property<long>("SplitTimeMs")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("CheckpointId");

                    b.HasIndex("EventId");

                    b.HasIndex("EventId1");

                    b.HasIndex("ParticipantId");

                    b.HasIndex("ParticipantId1");

                    b.HasIndex("Rank");

                    b.HasIndex("ReadNormalizedId");

                    b.HasIndex("SplitTimeMs");

                    b.ToTable("SplitTimes", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.User", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("Email");

                    b.Property<string>("FirstName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("FirstName");

                    b.Property<DateTime?>("LastLoginAt")
                        .HasColumnType("datetime2")
                        .HasColumnName("LastLoginAt");

                    b.Property<string>("LastName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("LastName");

                    b.Property<string>("PasswordHash")
                        .HasMaxLength(510)
                        .HasColumnType("nvarchar(510)")
                        .HasColumnName("PasswordHash");

                    b.Property<string>("Role")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("Role");

                    b.Property<int>("TenantId")
                        .HasColumnType("int")
                        .HasColumnName("TenantId");

                    b.HasKey("Id");

                    b.HasIndex("TenantId");

                    b.HasIndex("TenantId", "Email")
                        .IsUnique();

                    b.ToTable("Users", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.UserInvitation", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime?>("AcceptedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("AcceptedBy")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<DateTime>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int>("InvitedBy")
                        .HasColumnType("int");

                    b.Property<bool>("IsAccepted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsExpired")
                        .HasColumnType("bit");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int>("Role")
                        .HasColumnType("int");

                    b.Property<int>("TenantId")
                        .HasColumnType("int");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.HasKey("Id");

                    b.HasIndex("AcceptedBy");

                    b.HasIndex("InvitedBy");

                    b.HasIndex("TenantId");

                    b.ToTable("UserInvitation");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.UserSession", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("datetime2")
                        .HasColumnName("ExpiresAt");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IpAddress");

                    b.Property<string>("TokenHash")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("TokenHash");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)")
                        .HasColumnName("UserAgent");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserId");

                    b.HasKey("Id");

                    b.HasIndex("ExpiresAt");

                    b.HasIndex("TokenHash")
                        .IsUnique();

                    b.HasIndex("UserId");

                    b.ToTable("UserSessions", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.EventOrganizers.EventOrganizer", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("Id");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)")
                        .HasColumnName("Name");

                    b.Property<int>("TenantId")
                        .HasColumnType("int")
                        .HasColumnName("TenantId");

                    b.HasKey("Id");

                    b.HasIndex("TenantId");

                    b.ToTable("EventOrganizer", (string)null);
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.CertificateField", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.CertificateTemplate", "CertificateTemplate")
                        .WithMany("Fields")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("CertificateFieldId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("CertificateFieldId");

                            b1.ToTable("CertificateFields");

                            b1.WithOwner()
                                .HasForeignKey("CertificateFieldId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("CertificateTemplate");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.CertificateTemplate", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany()
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Race", "Race")
                        .WithMany()
                        .HasForeignKey("RaceId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("CertificateTemplateId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("CertificateTemplateId");

                            b1.ToTable("CertificateTemplates");

                            b1.WithOwner()
                                .HasForeignKey("CertificateTemplateId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");

                    b.Navigation("Race");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Checkpoint", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Device", "Device")
                        .WithMany()
                        .HasForeignKey("DeviceId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Event", null)
                        .WithMany("Checkpoints")
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Device", "ParentDevice")
                        .WithMany()
                        .HasForeignKey("ParentDeviceId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("CheckpointId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("CheckpointId");

                            b1.ToTable("Checkpoints");

                            b1.WithOwner()
                                .HasForeignKey("CheckpointId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Device");

                    b.Navigation("ParentDevice");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Chip", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany("Chips")
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ChipId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("ChipId");

                            b1.ToTable("Chips");

                            b1.WithOwner()
                                .HasForeignKey("ChipId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ChipAssignment", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.User", "AssignedByUser")
                        .WithMany()
                        .HasForeignKey("AssignedByUserId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Runnatics.Models.Data.Entities.Chip", "Chip")
                        .WithMany("ChipAssignments")
                        .HasForeignKey("ChipId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany("ChipAssignments")
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", "Participant")
                        .WithMany("ChipAssignments")
                        .HasForeignKey("ParticipantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ChipAssignmentEventId")
                                .HasColumnType("int");

                            b1.Property<int>("ChipAssignmentParticipantId")
                                .HasColumnType("int");

                            b1.Property<int>("ChipAssignmentChipId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("ChipAssignmentEventId", "ChipAssignmentParticipantId", "ChipAssignmentChipId");

                            b1.ToTable("ChipAssignments");

                            b1.WithOwner()
                                .HasForeignKey("ChipAssignmentEventId", "ChipAssignmentParticipantId", "ChipAssignmentChipId");
                        });

                    b.Navigation("AssignedByUser");

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Chip");

                    b.Navigation("Event");

                    b.Navigation("Participant");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Device", b =>
                {
                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("DeviceId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("DeviceId");

                            b1.ToTable("Devices");

                            b1.WithOwner()
                                .HasForeignKey("DeviceId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Event", b =>
                {
                    b.HasOne("Runnatics.Models.Data.EventOrganizers.EventOrganizer", "EventOrganizer")
                        .WithMany("Events")
                        .HasForeignKey("EventOrganizerId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany("Events")
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("EventId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("EventId");

                            b1.ToTable("Events");

                            b1.WithOwner()
                                .HasForeignKey("EventId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("EventOrganizer");

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.EventSettings", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithOne("EventSettings")
                        .HasForeignKey("Runnatics.Models.Data.Entities.EventSettings", "EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("EventSettingsId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("EventSettingsId");

                            b1.ToTable("EventSettings");

                            b1.WithOwner()
                                .HasForeignKey("EventSettingsId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ImportBatch", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany()
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany()
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ImportBatchId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("ImportBatchId");

                            b1.ToTable("ImportBatches");

                            b1.WithOwner()
                                .HasForeignKey("ImportBatchId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.LeaderboardSettings", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithOne("LeaderboardSettings")
                        .HasForeignKey("Runnatics.Models.Data.Entities.LeaderboardSettings", "EventId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Runnatics.Models.Data.Entities.Race", null)
                        .WithOne("LeaderboardSettings")
                        .HasForeignKey("Runnatics.Models.Data.Entities.LeaderboardSettings", "RaceId");

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("LeaderboardSettingsId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("LeaderboardSettingsId");

                            b1.ToTable("LeaderboardSettings");

                            b1.WithOwner()
                                .HasForeignKey("LeaderboardSettingsId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Notification", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany()
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", "Participant")
                        .WithMany()
                        .HasForeignKey("ParticipantId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", null)
                        .WithMany("Notifications")
                        .HasForeignKey("ParticipantId1");

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("NotificationId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true);

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false);

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2");

                            b1.HasKey("NotificationId");

                            b1.ToTable("Notifications");

                            b1.WithOwner()
                                .HasForeignKey("NotificationId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");

                    b.Navigation("Participant");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Organization", b =>
                {
                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("OrganizationId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("OrganizationId");

                            b1.ToTable("Organizations");

                            b1.WithOwner()
                                .HasForeignKey("OrganizationId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Participant", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany("Participants")
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.ImportBatch", "ImportBatch")
                        .WithMany("Participants")
                        .HasForeignKey("ImportBatchId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Runnatics.Models.Data.Entities.Race", "Race")
                        .WithMany("Participants")
                        .HasForeignKey("RaceId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany("Participants")
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ParticipantId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .HasColumnType("datetime2(7)")
                                .HasColumnName("CreatedAt");

                            b1.Property<bool>("IsActive")
                                .HasColumnType("bit")
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .HasColumnType("bit")
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2(7)")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("ParticipantId");

                            b1.ToTable("Participants");

                            b1.WithOwner()
                                .HasForeignKey("ParticipantId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");

                    b.Navigation("ImportBatch");

                    b.Navigation("Organization");

                    b.Navigation("Race");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ParticipantStaging", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.ImportBatch", "ImportBatch")
                        .WithMany("StagingRecords")
                        .HasForeignKey("ImportBatchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", "Participant")
                        .WithMany()
                        .HasForeignKey("ParticipantId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ParticipantStagingId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("ParticipantStagingId");

                            b1.ToTable("ParticipantStaging");

                            b1.WithOwner()
                                .HasForeignKey("ParticipantStagingId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("ImportBatch");

                    b.Navigation("Participant");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.PasswordResetToken", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_PasswordResetTokens_Users_UserId");

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("PasswordResetTokenId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedDate");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedDate");

                            b1.HasKey("PasswordResetTokenId");

                            b1.ToTable("PasswordResetTokens");

                            b1.WithOwner()
                                .HasForeignKey("PasswordResetTokenId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Race", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany("Races")
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("RaceId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("RaceId");

                            b1.ToTable("Races");

                            b1.WithOwner()
                                .HasForeignKey("RaceId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.RaceSettings", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Race", "Race")
                        .WithOne("RaceSettings")
                        .HasForeignKey("Runnatics.Models.Data.Entities.RaceSettings", "RaceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("RaceSettingsId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("RaceSettingsId");

                            b1.ToTable("RaceSettings");

                            b1.WithOwner()
                                .HasForeignKey("RaceSettingsId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Race");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReadNormalized", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Checkpoint", "Checkpoint")
                        .WithMany()
                        .HasForeignKey("CheckpointId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.User", "CreatedByUser")
                        .WithMany()
                        .HasForeignKey("CreatedByUserId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany()
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Event", null)
                        .WithMany("ReadNormalized")
                        .HasForeignKey("EventId1");

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", "Participant")
                        .WithMany()
                        .HasForeignKey("ParticipantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", null)
                        .WithMany("ReadNormalized")
                        .HasForeignKey("ParticipantId1");

                    b.HasOne("Runnatics.Models.Data.Entities.ReadRaw", "RawRead")
                        .WithMany()
                        .HasForeignKey("RawReadId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Runnatics.Models.Data.Entities.ReadRaw", null)
                        .WithMany("ReadNormalized")
                        .HasForeignKey("ReadRawId");

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ReadNormalizedId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true);

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false);

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2");

                            b1.HasKey("ReadNormalizedId");

                            b1.ToTable("ReadNormalized");

                            b1.WithOwner()
                                .HasForeignKey("ReadNormalizedId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Checkpoint");

                    b.Navigation("CreatedByUser");

                    b.Navigation("Event");

                    b.Navigation("Participant");

                    b.Navigation("RawRead");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReadRaw", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany("ReadRaws")
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.ReaderDevice", "ReaderDevice")
                        .WithMany("ReadRaws")
                        .HasForeignKey("ReaderDeviceId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<long>("ReadRawId")
                                .HasColumnType("bigint");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true);

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false);

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2");

                            b1.HasKey("ReadRawId");

                            b1.ToTable("ReadRaws");

                            b1.WithOwner()
                                .HasForeignKey("ReadRawId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");

                    b.Navigation("ReaderDevice");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReaderAssignment", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.User", "AssignedByUser")
                        .WithMany()
                        .HasForeignKey("AssignedByUserId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Runnatics.Models.Data.Entities.Checkpoint", "Checkpoint")
                        .WithMany()
                        .HasForeignKey("CheckpointId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany()
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.ReaderDevice", "ReaderDevice")
                        .WithMany("ReaderAssignments")
                        .HasForeignKey("ReaderDeviceId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ReaderAssignmentId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true);

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false);

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2");

                            b1.HasKey("ReaderAssignmentId");

                            b1.ToTable("ReaderAssignments");

                            b1.WithOwner()
                                .HasForeignKey("ReaderAssignmentId");
                        });

                    b.Navigation("AssignedByUser");

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Checkpoint");

                    b.Navigation("Event");

                    b.Navigation("ReaderDevice");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReaderDevice", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany()
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ReaderDeviceId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true);

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false);

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2");

                            b1.HasKey("ReaderDeviceId");

                            b1.ToTable("ReaderDevices");

                            b1.WithOwner()
                                .HasForeignKey("ReaderDeviceId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Results", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany("Results")
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", "Participant")
                        .WithOne("Result")
                        .HasForeignKey("Runnatics.Models.Data.Entities.Results", "ParticipantId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Race", "Race")
                        .WithMany("Results")
                        .HasForeignKey("RaceId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("ResultsId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasMaxLength(100)
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("ResultsId");

                            b1.ToTable("Results");

                            b1.WithOwner()
                                .HasForeignKey("ResultsId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Event");

                    b.Navigation("Participant");

                    b.Navigation("Race");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.SplitTime", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Checkpoint", "Checkpoint")
                        .WithMany()
                        .HasForeignKey("CheckpointId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Event", "Event")
                        .WithMany()
                        .HasForeignKey("EventId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Event", null)
                        .WithMany("SplitTimes")
                        .HasForeignKey("EventId1");

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", "Participant")
                        .WithMany()
                        .HasForeignKey("ParticipantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Participant", null)
                        .WithMany("SplitTimes")
                        .HasForeignKey("ParticipantId1");

                    b.HasOne("Runnatics.Models.Data.Entities.ReadNormalized", "ReadNormalized")
                        .WithMany()
                        .HasForeignKey("ReadNormalizedId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("SplitTimeId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true);

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false);

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2");

                            b1.HasKey("SplitTimeId");

                            b1.ToTable("SplitTimes");

                            b1.WithOwner()
                                .HasForeignKey("SplitTimeId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Checkpoint");

                    b.Navigation("Event");

                    b.Navigation("Participant");

                    b.Navigation("ReadNormalized");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.User", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany("Users")
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("UserId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("UserId");

                            b1.ToTable("Users");

                            b1.WithOwner()
                                .HasForeignKey("UserId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.UserInvitation", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.User", "AcceptedByUser")
                        .WithMany()
                        .HasForeignKey("AcceptedBy");

                    b.HasOne("Runnatics.Models.Data.Entities.User", "InvitedByUser")
                        .WithMany()
                        .HasForeignKey("InvitedBy")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany("UserInvitations")
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AcceptedByUser");

                    b.Navigation("InvitedByUser");

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.UserSession", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.User", "User")
                        .WithMany("UserSessions")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_UserSessions_UserId");

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("UserSessionId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("UserSessionId");

                            b1.ToTable("UserSessions");

                            b1.WithOwner()
                                .HasForeignKey("UserSessionId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Runnatics.Models.Data.EventOrganizers.EventOrganizer", b =>
                {
                    b.HasOne("Runnatics.Models.Data.Entities.Organization", "Organization")
                        .WithMany("EventOrganizers")
                        .HasForeignKey("TenantId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Runnatics.Models.Data.Common.AuditProperties", "AuditProperties", b1 =>
                        {
                            b1.Property<int>("EventOrganizerId")
                                .HasColumnType("int");

                            b1.Property<int>("CreatedBy")
                                .HasColumnType("int")
                                .HasColumnName("CreatedBy");

                            b1.Property<DateTime>("CreatedDate")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt")
                                .HasDefaultValueSql("GETUTCDATE()");

                            b1.Property<bool>("IsActive")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(true)
                                .HasColumnName("IsActive");

                            b1.Property<bool>("IsDeleted")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("bit")
                                .HasDefaultValue(false)
                                .HasColumnName("IsDeleted");

                            b1.Property<int?>("UpdatedBy")
                                .HasColumnType("int")
                                .HasColumnName("UpdatedBy");

                            b1.Property<DateTime?>("UpdatedDate")
                                .HasColumnType("datetime2")
                                .HasColumnName("UpdatedAt");

                            b1.HasKey("EventOrganizerId");

                            b1.ToTable("EventOrganizer");

                            b1.WithOwner()
                                .HasForeignKey("EventOrganizerId");
                        });

                    b.Navigation("AuditProperties")
                        .IsRequired();

                    b.Navigation("Organization");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.CertificateTemplate", b =>
                {
                    b.Navigation("Fields");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Chip", b =>
                {
                    b.Navigation("ChipAssignments");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Event", b =>
                {
                    b.Navigation("Checkpoints");

                    b.Navigation("ChipAssignments");

                    b.Navigation("EventSettings");

                    b.Navigation("LeaderboardSettings");

                    b.Navigation("Participants");

                    b.Navigation("Races");

                    b.Navigation("ReadNormalized");

                    b.Navigation("ReadRaws");

                    b.Navigation("Results");

                    b.Navigation("SplitTimes");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ImportBatch", b =>
                {
                    b.Navigation("Participants");

                    b.Navigation("StagingRecords");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Organization", b =>
                {
                    b.Navigation("Chips");

                    b.Navigation("EventOrganizers");

                    b.Navigation("Events");

                    b.Navigation("Participants");

                    b.Navigation("UserInvitations");

                    b.Navigation("Users");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Participant", b =>
                {
                    b.Navigation("ChipAssignments");

                    b.Navigation("Notifications");

                    b.Navigation("ReadNormalized");

                    b.Navigation("Result");

                    b.Navigation("SplitTimes");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.Race", b =>
                {
                    b.Navigation("LeaderboardSettings");

                    b.Navigation("Participants");

                    b.Navigation("RaceSettings");

                    b.Navigation("Results");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReadRaw", b =>
                {
                    b.Navigation("ReadNormalized");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.ReaderDevice", b =>
                {
                    b.Navigation("ReadRaws");

                    b.Navigation("ReaderAssignments");
                });

            modelBuilder.Entity("Runnatics.Models.Data.Entities.User", b =>
                {
                    b.Navigation("UserSessions");
                });

            modelBuilder.Entity("Runnatics.Models.Data.EventOrganizers.EventOrganizer", b =>
                {
                    b.Navigation("Events");
                });
#pragma warning restore 612, 618
        }
    }
}
